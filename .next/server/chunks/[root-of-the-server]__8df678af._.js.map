{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/analyze/route.js"],"sourcesContent":["// /app/api/analyze/route.js\nimport { NextResponse } from 'next/server';\n\nexport async function POST(request) {\n  try {\n    const { prompt } = await request.json();\n\n    if (!prompt || !prompt.trim()) {\n      return NextResponse.json(\n        { error: 'Project description is required' },\n        { status: 400 }\n      );\n    }\n\n    // Check if Gemini API key exists\n    if (!process.env.GEMINI_API_KEY) {\n      console.error('GEMINI_API_KEY is not set');\n      return NextResponse.json(\n        { error: 'API key not configured' },\n        { status: 500 }\n      );\n    }\n\n    console.log('Making request to Gemini API...');\n\n    // Enhanced system prompt for structured project analysis\n    const systemPrompt = `You are an expert Software Mentor, Tech Lead & Full-Stack Architect with 10+ years of experience across web development, AI/ML, mobile apps, data science, and emerging technologies.\n\nYour mission:\nAnalyze the user's project idea thoroughly and provide a comprehensive, actionable breakdown that transforms their concept into a clear development roadmap.\n\nüéØ INPUT ANALYSIS\nYou MUST:\n- Understand the project scope and complexity level\n- Identify the project category (Web App, Mobile App, AI/ML, Data Science, API, Desktop App, Game, etc.)\n- Determine the user's likely skill level from their description\n- Assess time complexity (hours, days, weeks, months)\n\nüìã STRICT OUTPUT FORMAT\n\n## üîç Project Analysis & Breakdown\n\n**Project Category:** [Web App/Mobile App/AI-ML/Data Science/API/Desktop/Game/Other]\n**Complexity Level:** [Beginner/Intermediate/Advanced]\n**Estimated Timeline:** [X hours/days/weeks]\n**Key Challenge Areas:** [List 2-3 main technical challenges]\n\n## üó∫Ô∏è Step-by-Step Development Roadmap\n\n**Phase 1: Planning & Setup (Days 1-2)**\n- [ ] Define core features and user stories\n- [ ] Set up development environment\n- [ ] Initialize project structure\n- [ ] Design database schema (if applicable)\n\n**Phase 2: Core Development (Days 3-X)**\n- [ ] [Specific milestone 1]\n- [ ] [Specific milestone 2]\n- [ ] [Specific milestone 3]\n- [ ] [Additional milestones based on project]\n\n**Phase 3: Integration & Testing (Days X-Y)**\n- [ ] API integrations\n- [ ] Testing implementation\n- [ ] Bug fixes and optimization\n\n**Phase 4: Deployment & Launch (Final days)**\n- [ ] Production deployment\n- [ ] Performance optimization\n- [ ] Documentation\n\n## üß∞ Recommended Tech Stack & Tools\n\n**Frontend:**\n- Framework: [React/Vue/Angular/Vanilla JS/Flutter/React Native]\n- Styling: [Tailwind CSS/CSS Modules/Styled Components]\n- State Management: [Redux/Zustand/Context API]\n\n**Backend:**\n- Runtime: [Node.js/Python/Java/Go/.NET]\n- Framework: [Express/FastAPI/Spring Boot/Gin/ASP.NET]\n- Database: [PostgreSQL/MongoDB/Firebase/Supabase]\n\n**Essential NPM/Python Packages:**\n1. **[Package Name]** - [Purpose and why it's needed]\n   \\`npm install [package-name]\\` or \\`pip install [package-name]\\`\n2. **[Package Name]** - [Purpose and why it's needed]\n3. **[Package Name]** - [Purpose and why it's needed]\n4. **[Additional packages as needed]**\n\n**Development Tools:**\n- Version Control: Git + GitHub/GitLab\n- Code Editor: VS Code with recommended extensions\n- Testing: [Jest/Cypress/Pytest/etc.]\n- Deployment: [Vercel/Netlify/Heroku/AWS/Docker]\n\n## üìö Official Documentation & Resources\n\n**Core Technologies:**\n1. **[Technology Name]**: [Official docs URL] - [Brief description of what to focus on]\n2. **[Technology Name]**: [Official docs URL] - [Brief description]\n3. **[Technology Name]**: [Official docs URL] - [Brief description]\n\n**API Documentation:**\n- [If applicable, list relevant API docs]\n\n**Learning Resources:**\n- [Technology] Official Tutorial: [URL]\n- [Technology] Best Practices Guide: [URL]\n\n## üé• Recommended YouTube Resources\n\n**Tutorial Videos:**\n1. **\"[Specific video title related to the project]\"** by [Channel Name]\n   - Focus: [What this video covers]\n   - Duration: [Estimated duration]\n   - Best for: [Beginner/Intermediate/Advanced]\n\n2. **\"[Another specific video title]\"** by [Channel Name]\n   - Focus: [What this video covers]\n   - Duration: [Estimated duration]\n   - Best for: [Skill level]\n\n**YouTube Channels to Follow:**\n- [Channel 1]: Great for [specific technology/concept]\n- [Channel 2]: Excellent [specific area] tutorials\n\n## üí° Pro Tips & Best Practices\n\n**Development Tips:**\n- Start with a minimal viable product (MVP)\n- Use version control from day one\n- Write clean, commented code\n- Test early and often\n\n**Common Pitfalls to Avoid:**\n- [Specific pitfall 1 related to this project type]\n- [Specific pitfall 2]\n- [Specific pitfall 3]\n\n**Optimization Strategies:**\n- [Performance tip 1]\n- [Scalability consideration]\n- [Security best practice]\n\n## üöÄ Next Steps\n\n1. **Immediate Actions (Today):**\n   - Set up development environment\n   - Create project repository\n   - Install core dependencies\n\n2. **This Week:**\n   - Complete Phase 1 planning\n   - Start core feature development\n   - Set up basic project structure\n\n3. **Future Considerations:**\n   - Scalability planning\n   - Additional feature roadmap\n   - Monetization strategy (if applicable)\n\n---\n\n**üìå KEY REQUIREMENTS:**\n- All package names must be real and currently maintained\n- All documentation links should be to official sources\n- YouTube recommendations should be specific and relevant\n- Tech stack should be appropriate for the project complexity\n- Timeline should be realistic for the described project\n- Include both beginner-friendly and advanced resources when applicable`;\n\n    // Gemini 2.5 API call\n    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent?key=${process.env.GEMINI_API_KEY}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        contents: [\n          {\n            parts: [\n              {\n                text: `${systemPrompt}\\n\\nUser Request: Please provide comprehensive project analysis and development guidance for: ${prompt.trim()}`\n              }\n            ]\n          }\n        ],\n        generationConfig: {\n          temperature: 0.7,\n          topP: 0.9,\n          topK: 40,\n          maxOutputTokens: 3000,\n          candidateCount: 1,\n        },\n        safetySettings: [\n          {\n            category: \"HARM_CATEGORY_HARASSMENT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          },\n          {\n            category: \"HARM_CATEGORY_HATE_SPEECH\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          },\n          {\n            category: \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          },\n          {\n            category: \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          }\n        ]\n      }),\n    });\n\n    console.log('Gemini API response received');\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('Gemini API error:', errorData);\n\n      if (response.status === 401 || response.status === 403) {\n        return NextResponse.json(\n          { error: 'Invalid Gemini API key configuration' },\n          { status: 500 }\n        );\n      } else if (response.status === 429) {\n        return NextResponse.json(\n          { error: 'Gemini API rate limit exceeded. Please try again in a few minutes.' },\n          { status: 500 }\n        );\n      } else if (response.status === 400) {\n        return NextResponse.json(\n          { error: 'Invalid request to Gemini API. Please check your input.' },\n          { status: 500 }\n        );\n      }\n\n      throw new Error(errorData.error?.message || 'Gemini API request failed');\n    }\n\n    const data = await response.json();\n\n    // Handle Gemini response structure\n    if (!data.candidates || data.candidates.length === 0 || !data.candidates[0].content) {\n      return NextResponse.json(\n        { error: 'No response from Gemini model' },\n        { status: 500 }\n      );\n    }\n\n    // Check if content was blocked due to safety filters\n    if (data.candidates[0].finishReason === 'SAFETY') {\n      return NextResponse.json(\n        { error: 'Content was blocked by safety filters. Please try rephrasing your request.' },\n        { status: 400 }\n      );\n    }\n\n    const aiResponse = data.candidates[0].content.parts[0].text;\n\n    // Enhanced response with metadata\n    return NextResponse.json({ \n      result: aiResponse,\n      metadata: {\n        model: 'gemini-2.5-pro',\n        timestamp: new Date().toISOString(),\n        tokens_used: data.usageMetadata?.totalTokenCount || 'N/A',\n        project_analyzed: prompt.trim().substring(0, 100) + '...',\n        finish_reason: data.candidates[0].finishReason || 'STOP'\n      }\n    });\n\n  } catch (error) {\n    console.error('AI API error:', error.message);\n\n    // Enhanced error handling\n    if (error.message.includes('fetch')) {\n      return NextResponse.json(\n        { error: 'Network error. Please check your internet connection and try again.' },\n        { status: 500 }\n      );\n    } else if (error.message.includes('timeout')) {\n      return NextResponse.json(\n        { error: 'Request timeout. The AI is taking longer than expected. Please try again.' },\n        { status: 500 }\n      );\n    }\n\n    return NextResponse.json(\n      { \n        error: 'Failed to analyze project',\n        details: process.env.NODE_ENV === 'development' ? error.message : 'Please try again later'\n      },\n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":"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","debugId":null}}]
}